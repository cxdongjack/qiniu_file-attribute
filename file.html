<template name="qiniuAttributesFileUpload">
  <div class="fileUpload" {{ this.atts }}>
    {{# if file }}
      <div class="preview">
        {{# if isImage file.url }}
          <p><img src="{{ file.url }}"></p>
        {{ else }}
          <p><i class="fa {{ iconForFile file.url }}"></i></p>
          <p><a href="{{ file.url }}" target="_blank">{{ file.url }}</a></p>
        {{/ if }}
      </div>
      <button type="button" class="btn btn-danger btn-remove btn-xs">{{ i18n 'global.delete' }}</button>
    {{ else }}
      {{# if isUploading }}
        <div class="progress"><div class="progress-bar progress-bar-striped active" style="width: {{ progress }}%"></div></div>
      {{ else }}
        {{> qiniuAttributesFileUploadInput}}
      {{/ if }}
    {{/ if }}
  </div>
</template>

<template name="qiniuAttributesFileUploadInput">
    <div>
      <span class="btn btn-default btn-file btn-xs {{# if filesystemIsUploading }}disabled{{/ if }}" id="{{ atts.id }}-pickfiles">
          {{ i18n 'attributes.file.choose' }}1
      </span>
    </div>
</template>

<template name="qiniuAttributesFileUploadColumn">
  {{# if value }}
    {{# if isImage value.url }}
      <p><img class="data-table-image" src="{{ value.url }}"></p>
    {{ else }}
      <p><a href="{{ value.url }}" target="_blank">{{ value.url }}</a></p>
    {{/ if }}
  {{ else }}
    <p class="help-block"><i>{{ i18n 'attributes.file.noFile' }}</i></p>
  {{/ if }}
</template>
